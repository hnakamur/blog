
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>VirtualBox4でCentOS6.2をインストール - hnakamur's blog at github</title>
  <meta name="author" content="Hiroaki Nakamura">

  
  <meta name="description" content="VirtualBoxのインストール Downloads – Oracle VM VirtualBox
からダウンロードしてインストールしてください。 ネットワークインストールのISOイメージをダウンロード CentOS-6.2-x86_64-netinstall.iso &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://hnakamur.github.com/blog/2012/07/03/virtualbox4decentos6-dot-2woinsutoru">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/blog/atom.xml" rel="alternate" title="hnakamur's blog at github" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">hnakamur's blog at github</a></h1>
  
    <h2>my trial and error log</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/blog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:hnakamur.github.com/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">VirtualBox4でCentOS6.2をインストール</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-03T23:52:00+09:00" pubdate data-updated="true">2012-07-03</time>
        
      </p>
    
  </header>


<div class="entry-content"><h2>VirtualBoxのインストール</h2>

<p><a href="https://www.virtualbox.org/wiki/Downloads">Downloads – Oracle VM VirtualBox</a>
からダウンロードしてインストールしてください。</p>

<h2>ネットワークインストールのISOイメージをダウンロード</h2>

<p><a href="http://ftp.riken.jp/Linux/centos/6.2/isos/x86_64/CentOS-6.2-x86_64-netinstall.iso">CentOS-6.2-x86_64-netinstall.iso</a></p>

<h2>ホストオンリーネットワークを作成</h2>

<ol>
<li>[VirualBox]/[環境設定&#8230;]</li>
<li>[ネットワーク]タブ</li>
<li>[+]アイコンボタンを押してvboxnet0を作成</li>
<li>ドライバーアイコンのボタン</li>
<li>[アダプタ]タブでIPv4アドレスが「192.168.56.1」となっていることを確認</li>
<li>[DHCPサーバー]タブ</li>
<li>[サーバーを有効化]のチェックを外す</li>
<li>[OK]</li>
<li>[OK]</li>
</ol>


<h2>仮想マシンの作成</h2>

<h3>仮想マシン名とOSタイプ</h3>

<p>名前は「CentOS6」
オペレーティングシステムは「Linux」
バージョンは「Linux 2.6 (64bit)」</p>

<h3>メモリ</h3>

<p>メインメモリのサイズは1024MB</p>

<h3>仮想ハードディスク</h3>

<p>変更なし</p>

<h3>the virtual disk creation wizard</h3>

<p>File typeはVDI (VirtualBox Disk Image)</p>

<h3>Virtual disk storage details</h3>

<p>Storage detailsはDyamically allocated</p>

<h3>Virtual disk file location and size</h3>

<p>サイズは30GB</p>

<h2>インストール前の仮想マシンの設定変更</h2>

<h3>DVDドライブにメディアを設定</h3>

<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ストレージ]タブ</li>
<li>ストレージツリーでIDEコントローラ/空を選択</li>
<li>属性のCD/DVDドライブの右のDVDメディアアイコンをクリックして</li>
<li>上記でダウンロードしたCentOS-6.2-x86_64-netinstall.isoを選択</li>
<li>[OK]</li>
</ol>


<h3>ネットワークアダプタ</h3>

<p>以下の手順では[VirtualBox マネージャー]画面からでも操作可能な部分もありますが、説明しやすいのでメニューバーからの操作で説明します。</p>

<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ネットワーク]タブ</li>
<li>[アダプタ2]タブ</li>
<li>[ネットワークアダプタを有効化]にチェック</li>
<li>[割り当て]で「ホストオンリーアダプタ」を選択</li>
<li>[名前]で「vboxnet0」を選択</li>
<li>[OK]</li>
</ol>


<h2>CentOS6.2のインストール</h2>

<h3>テキストモードでインストール開始</h3>

<ol>
<li>[仮想マシン]/[起動]</li>
<li>Welcome to CentOS 6.2!」の画面でTABを押す</li>
</ol>


<pre>
> vmlinuz initrd=initrd.img
</pre>


<p>と表示されているところに、スペース、text、リターンを入力し</p>

<pre>
> vmlinuz initrd=initrd.img text
</pre>


<p>としてインストール開始</p>

<h3>Disc Found</h3>

<p>[Skip]を選択</p>

<h3>Choose a Language</h3>

<p>[English]を選択</p>

<h3>Keyboard Type</h3>

<p>[us]を選択</p>

<h3>Installation Method</h3>

<p>[URL]を選択して[OK]</p>

<h3>Network Device</h3>

<p>[eth0]を選択して[OK]</p>

<h3>Configure TCP/IP</h3>

<p>[Enable IPv6 support]をオフにして[OK]</p>

<h3>URL Setup</h3>

<p>http://ftp.riken.jp/Linux/centos/6.2/os/x86_64
と入力して[OK]</p>

<h3>Would you like to use VNC?</h3>

<p>[Use text mode]を選択</p>

<h3>Error processing driveのWarning</h3>

<p>[Re-initialize all]を選択</p>

<h3>Time Zone Selection</h3>

<p>[System clock uses UTC]のチェックはオンで
[Asia/Tokyo]を選択して[OK]</p>

<h3>Root Password</h3>

<p>[Password]と[Password (confirm)]を入力して[OK]</p>

<h3>Partition Type</h3>

<p>[OK]</p>

<h3>Writing storage configuration to disk</h3>

<p>[Write changes to disk]</p>

<h3>Complete</h3>

<p>[Reboot]を押し、再起動が開始して[Welcome to CentOS 6.2!]の画面になったらTABを2回押して起動を中断
仮想マシンのウィンドウの閉じるボタンを押し、｢操作を選択]で[仮想マシンの電源オフ]を選択して[OK]</p>

<h2>インストール後の仮想マシンの設定変更</h2>

<h3>DVDドライブのメディアを除去</h3>

<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ストレージ]タブ</li>
<li>ストレージツリーでIDEコントローラ/CentOS-6.2-x86_64-netinstall.isoを選択</li>
<li>属性のCD/DVDドライブの右のDVDメディアアイコンをクリックして</li>
<li>[仮想ドライブからディスクを除去]</li>
</ol>


<h3>ネットワークアダプタでvirtio-netを選択</h3>

<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ネットワーク]タブ</li>
<li>[アダプタ1]タブ</li>
<li>[高度]をクリック</li>
<li>アダプタタイプで「準仮想化ネットワーク(virtio-net)」を選択</li>
<li>[アダプタ2]タブ</li>
<li>[高度]をクリック</li>
<li>アダプタタイプで「準仮想化ネットワーク(virtio-net)」を選択</li>
<li>[OK]</li>
</ol>


<h2>仮想ディスクから仮想マシンを起動してネットワークの設定</h2>

<p>[仮想マシン]/[起動]</p>

<p>[localhost login:]というログインプロンプトが表示されたらroot、リターンと入力し、[Password:]プロンプトでパスワード、リターンを入力し、ログイン。</p>

<h3>eth1の設定</h3>

<p>vi /etc/sysconfig/network-scripts/ifcfg-eth1</p>

<h4>変更前</h4>

<p>HWADDRの値はインストール毎に異なります。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>DEVICE="eth1"
</span><span class='line'>HWADDR="08:00:27:28:EB:27"
</span><span class='line'>NM_CONTROLLED="yes"
</span><span class='line'>ONBOOT="no"</span></code></pre></td></tr></table></div></figure>


<h4>変更後</h4>

<p>ONBOOTをyesに変更し、下記のようにTYPE, IPADDR, NETMASKの行を追加します。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>DEVICE="eth1"
</span><span class='line'>HWADDR="08:00:27:28:EB:27"
</span><span class='line'>NM_CONTROLLED="yes"
</span><span class='line'>ONBOOT="yes"
</span><span class='line'>TYPE="Ethernet"
</span><span class='line'>IPADDR="192.168.56.101"
</span><span class='line'>NETMASK="255.255.255.0"</span></code></pre></td></tr></table></div></figure>




<pre>
/etc/init.d/network restart
</pre>


<p>を実行しネットワークを再起動します。</p>

<h3>ネットワークの動作確認</h3>

<p>以下のコマンドを実行し、DNS名前解決とインターネットへのアクセスができることを確認。</p>

<pre>
ping ftp.riken.jp
</pre>


<p>ホストマシンから仮想マシンにアクセスできることを確認。</p>

<pre>
ping 192.168.56.101
</pre>


<p>確認できたら仮想マシンからログアウト</p>

<pre>
exit
</pre>


<p>以降はホストマシンからsshでログインして操作可能です。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ssh root@192.168.56.101</span></code></pre></td></tr></table></div></figure>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Hiroaki Nakamura</span></span>

      








  


<time datetime="2012-07-03T23:52:00+09:00" pubdate data-updated="true">2012-07-03</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/centos6/'>CentOS6</a>, <a class='category' href='/blog/categories/virtualbox4-/'>VirtualBox4,</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://hnakamur.github.com/blog/2012/07/03/virtualbox4decentos6-dot-2woinsutoru/" data-via="hnakamur2" data-counturl="http://hnakamur.github.com/blog/2012/07/03/virtualbox4decentos6-dot-2woinsutoru/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/06/27/node-dot-jsfalsefs-dot-watch-deshe-ding-huairugageng-xin-saretararirodo/" title="Previous Post: node.jsのfs.watch()で設定ファイルが更新されたらリロード">&laquo; node.jsのfs.watch()で設定ファイルが更新されたらリロード</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/02/02/use-unbound-dns-server/" title="Next Post: Unboundで在宅時に自宅サーバの名前解決">Unboundで在宅時に自宅サーバの名前解決 &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/01/tried-chef-ansible-fabric/">Chef-soloとAnsibleとFabricを試した感想</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/03/how-to-setup-vagrant-1-dot-1-5-and-sahara/">Vagrant 1.1.5とSaharaを試した</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/12/fib-39-benchmark-in-luajit/">lua, V8, ruby, mrubyでfib(39)の実行時間比較</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/02/multi-series-line-chart-example-with-tooltip-using-d3-dot-js/">d3.jsを使ったツールチップあり複数折れ線グラフのサンプルを作った</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/16/aws-update-hosts-for-servers-in-same-region/">EC2で同じリージョンの全ホストのプライベートIPを起動時にhostsに自動登録</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/hnakamur">@hnakamur</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'hnakamur',
            count: 5,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/blog/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("hnakamur2", 5, false);
    });
  </script>
  <script src="/blog/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/hnakamur2" class="twitter-follow-button" data-show-count="false">Follow @hnakamur2</a>
  
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Hiroaki Nakamura -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
