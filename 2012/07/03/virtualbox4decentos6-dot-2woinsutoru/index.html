<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja-jp" lang="ja-jp">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.64.1" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>VirtualBox4でCentOS6.2をインストール &middot; hnakamur&#39;s blog</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53263855-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-53263855-1');
</script>



</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://hnakamur.github.io/blog/"><h1>hnakamur&#39;s blog</h1></a>
      <p class="lead">
       my tech memo 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://hnakamur.github.io/blog/"> blog home </a></li><li><a href="https://github.com/hnakamur"> github @hnakamur </a></li><li><a href="https://twitter.com/hnakamur2"> twitter @hnakamur2 </a></li>
      </ul>
    </nav>

    <p>powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://pages.github.com/">GitHub Pages</a></p>
    <p>&copy; 2020. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>VirtualBox4でCentOS6.2をインストール</h1>
  <time datetime=2012-07-03T00:00:00Z class="post-date">2012-07-03</time>
  <h2 id="virtualboxのインストール">VirtualBoxのインストール</h2>
<p><a href="https://www.virtualbox.org/wiki/Downloads">Downloads – Oracle VM VirtualBox</a>
からダウンロードしてインストールしてください。</p>
<h2 id="ネットワークインストールのisoイメージをダウンロード">ネットワークインストールのISOイメージをダウンロード</h2>
<p><a href="http://ftp.riken.jp/Linux/centos/6.2/isos/x86_64/CentOS-6.2-x86_64-netinstall.iso">CentOS-6.2-x86_64-netinstall.iso</a></p>
<h2 id="ホストオンリーネットワークを作成">ホストオンリーネットワークを作成</h2>
<ol>
<li>[VirualBox]/[環境設定&hellip;]</li>
<li>[ネットワーク]タブ</li>
<li>[+]アイコンボタンを押してvboxnet0を作成</li>
<li>ドライバーアイコンのボタン</li>
<li>[アダプタ]タブでIPv4アドレスが「192.168.56.1」となっていることを確認</li>
<li>[DHCPサーバー]タブ</li>
<li>[サーバーを有効化]のチェックを外す</li>
<li>[OK]</li>
<li>[OK]</li>
</ol>
<h2 id="仮想マシンの作成">仮想マシンの作成</h2>
<h3 id="仮想マシン名とosタイプ">仮想マシン名とOSタイプ</h3>
<p>名前は「CentOS6」
オペレーティングシステムは「Linux」
バージョンは「Linux 2.6 (64bit)」</p>
<h3 id="メモリ">メモリ</h3>
<p>メインメモリのサイズは1024MB</p>
<h3 id="仮想ハードディスク">仮想ハードディスク</h3>
<p>変更なし</p>
<h3 id="the-virtual-disk-creation-wizard">the virtual disk creation wizard</h3>
<p>File typeはVDI (VirtualBox Disk Image)</p>
<h3 id="virtual-disk-storage-details">Virtual disk storage details</h3>
<p>Storage detailsはDyamically allocated</p>
<h3 id="virtual-disk-file-location-and-size">Virtual disk file location and size</h3>
<p>サイズは30GB</p>
<h2 id="インストール前の仮想マシンの設定変更">インストール前の仮想マシンの設定変更</h2>
<h3 id="dvdドライブにメディアを設定">DVDドライブにメディアを設定</h3>
<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ストレージ]タブ</li>
<li>ストレージツリーでIDEコントローラ/空を選択</li>
<li>属性のCD/DVDドライブの右のDVDメディアアイコンをクリックして</li>
<li>上記でダウンロードしたCentOS-6.2-x86_64-netinstall.isoを選択</li>
<li>[OK]</li>
</ol>
<h3 id="ネットワークアダプタ">ネットワークアダプタ</h3>
<p>以下の手順では[VirtualBox マネージャー]画面からでも操作可能な部分もありますが、説明しやすいのでメニューバーからの操作で説明します。</p>
<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ネットワーク]タブ</li>
<li>[アダプタ2]タブ</li>
<li>[ネットワークアダプタを有効化]にチェック</li>
<li>[割り当て]で「ホストオンリーアダプタ」を選択</li>
<li>[名前]で「vboxnet0」を選択</li>
<li>[OK]</li>
</ol>
<h2 id="centos62のインストール">CentOS6.2のインストール</h2>
<h3 id="テキストモードでインストール開始">テキストモードでインストール開始</h3>
<ol>
<li>[仮想マシン]/[起動]</li>
<li>Welcome to CentOS 6.2!」の画面でTABを押す</li>
</ol>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>と表示されているところに、スペース、text、リターンを入力し</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>としてインストール開始</p>
<h3 id="disc-found">Disc Found</h3>
<p>[Skip]を選択</p>
<h3 id="choose-a-language">Choose a Language</h3>
<p>[English]を選択</p>
<h3 id="keyboard-type">Keyboard Type</h3>
<p>[us]を選択</p>
<h3 id="installation-method">Installation Method</h3>
<p>[URL]を選択して[OK]</p>
<h3 id="network-device">Network Device</h3>
<p>[eth0]を選択して[OK]</p>
<h3 id="configure-tcpip">Configure TCP/IP</h3>
<p>[Enable IPv6 support]をオフにして[OK]</p>
<h3 id="url-setup">URL Setup</h3>
<p><a href="http://ftp.riken.jp/Linux/centos/6.2/os/x86_64">http://ftp.riken.jp/Linux/centos/6.2/os/x86_64</a>
と入力して[OK]</p>
<h3 id="would-you-like-to-use-vnc">Would you like to use VNC?</h3>
<p>[Use text mode]を選択</p>
<h3 id="error-processing-driveのwarning">Error processing driveのWarning</h3>
<p>[Re-initialize all]を選択</p>
<h3 id="time-zone-selection">Time Zone Selection</h3>
<p>[System clock uses UTC]のチェックはオンで
[Asia/Tokyo]を選択して[OK]</p>
<h3 id="root-password">Root Password</h3>
<p>[Password]と[Password (confirm)]を入力して[OK]</p>
<h3 id="partition-type">Partition Type</h3>
<p>[OK]</p>
<h3 id="writing-storage-configuration-to-disk">Writing storage configuration to disk</h3>
<p>[Write changes to disk]</p>
<h3 id="complete">Complete</h3>
<p>[Reboot]を押し、再起動が開始して[Welcome to CentOS 6.2!]の画面になったらTABを2回押して起動を中断
仮想マシンのウィンドウの閉じるボタンを押し、｢操作を選択]で[仮想マシンの電源オフ]を選択して[OK]</p>
<h2 id="インストール後の仮想マシンの設定変更">インストール後の仮想マシンの設定変更</h2>
<h3 id="dvdドライブのメディアを除去">DVDドライブのメディアを除去</h3>
<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ストレージ]タブ</li>
<li>ストレージツリーでIDEコントローラ/CentOS-6.2-x86_64-netinstall.isoを選択</li>
<li>属性のCD/DVDドライブの右のDVDメディアアイコンをクリックして</li>
<li>[仮想ドライブからディスクを除去]</li>
</ol>
<h3 id="ネットワークアダプタでvirtio-netを選択">ネットワークアダプタでvirtio-netを選択</h3>
<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ネットワーク]タブ</li>
<li>[アダプタ1]タブ</li>
<li>[高度]をクリック</li>
<li>アダプタタイプで「準仮想化ネットワーク(virtio-net)」を選択</li>
<li>[アダプタ2]タブ</li>
<li>[高度]をクリック</li>
<li>アダプタタイプで「準仮想化ネットワーク(virtio-net)」を選択</li>
<li>[OK]</li>
</ol>
<h2 id="仮想ディスクから仮想マシンを起動してネットワークの設定">仮想ディスクから仮想マシンを起動してネットワークの設定</h2>
<p>[仮想マシン]/[起動]</p>
<p>[localhost login:]というログインプロンプトが表示されたらroot、リターンと入力し、[Password:]プロンプトでパスワード、リターンを入力し、ログイン。</p>
<h3 id="eth1の設定">eth1の設定</h3>
<p>vi /etc/sysconfig/network-scripts/ifcfg-eth1</p>
<h4 id="変更前">変更前</h4>
<p>HWADDRの値はインストール毎に異なります。</p>
<pre><code>DEVICE=&quot;eth1&quot;
HWADDR=&quot;08:00:27:28:EB:27&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;no&quot;
</code></pre><h4 id="変更後">変更後</h4>
<p>ONBOOTをyesに変更し、下記のようにTYPE, IPADDR, NETMASKの行を追加します。</p>
<pre><code>DEVICE=&quot;eth1&quot;
HWADDR=&quot;08:00:27:28:EB:27&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;yes&quot;
TYPE=&quot;Ethernet&quot;
IPADDR=&quot;192.168.56.101&quot;
NETMASK=&quot;255.255.255.0&quot;
</code></pre><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>を実行しネットワークを再起動します。</p>
<h3 id="ネットワークの動作確認">ネットワークの動作確認</h3>
<p>以下のコマンドを実行し、DNS名前解決とインターネットへのアクセスができることを確認。</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>ホストマシンから仮想マシンにアクセスできることを確認。</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>確認できたら仮想マシンからログアウト</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>以降はホストマシンからsshでログインして操作可能です。</p>
<pre><code>ssh root@192.168.56.101
</code></pre>
</div>


    </main>

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-53263855-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

  </body>
</html>
