<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Direnv on hnakamur&#39;s blog at github</title>
    <link>/blog/tags/direnv/</link>
    <description>Recent content in Direnv on hnakamur&#39;s blog at github</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-JP</language>
    <lastBuildDate>Sat, 19 Dec 2015 01:45:25 +0900</lastBuildDate>
    <atom:link href="/blog/tags/direnv/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>direnvでgo1.5.2とgo1.6beta1を切り替える設定</title>
      <link>/blog/2015/12/19/switch_go1.5.2_and_go1.6beta1_with_direnv/</link>
      <pubDate>Sat, 19 Dec 2015 01:45:25 +0900</pubDate>
      
      <guid>/blog/2015/12/19/switch_go1.5.2_and_go1.6beta1_with_direnv/</guid>
      <description>

&lt;h2 id=&#34;はじめに:9e8ccdd514d51c0448f3d2e7fa828293&#34;&gt;はじめに&lt;/h2&gt;

&lt;p&gt;go1.6beta1がリリースされました。go1.5.2と切り替えて使いたいので、&lt;a href=&#34;https://github.com/direnv/direnv&#34;&gt;direnv/direnv&lt;/a&gt;用の設定を書きました。&lt;/p&gt;

&lt;h2 id=&#34;設定内容:9e8ccdd514d51c0448f3d2e7fa828293&#34;&gt;設定内容&lt;/h2&gt;

&lt;p&gt;以下の様な配置で使うことにしました。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;go1.5.2

&lt;ul&gt;
&lt;li&gt;goのインストールディレクトリ: /usr/local/go&lt;/li&gt;
&lt;li&gt;GOPATH: ~/gocode&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;go1.6beta1

&lt;ul&gt;
&lt;li&gt;goのインストールディレクトリ: /usr/local/go1.6beta1&lt;/li&gt;
&lt;li&gt;GOPATH: ~/gocode1.6&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;まず、~/.bash_profileや~/.bashからはgoへのPATH設定やGOPATHの設定は削除します。&lt;/p&gt;

&lt;p&gt;次に以下のファイルを作成します。&lt;/p&gt;

&lt;p&gt;~/gocode/.envrc&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export GOPATH=$HOME/gocode
export PATH=$PATH:/usr/local/go/bin:$GOPATH/bin
export GO15VENDOREXPERIMENT=1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;~/gocode1.6/.envrc&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;export GOROOT=/usr/local/go1.6beta1
export GOPATH=$HOME/gocode1.6
export PATH=$PATH:$GOROOT/bin:$GOPATH/bin
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;上記の2つのファイルを有効にします。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;direnv allow ~/gocode
direnv allow ~/gocode1.6
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;使い方:9e8ccdd514d51c0448f3d2e7fa828293&#34;&gt;使い方&lt;/h2&gt;

&lt;p&gt;go1.5.2を使うときは ~/gocode/ 配下のディレクトリにcdします。
すると~/gocode/.envrcがsourceされてgo1.5.2用の設定が有効になります。&lt;/p&gt;

&lt;p&gt;go1.6beta1を使うときは ~/gocode1.6/ 配下のディレクトリにcdします。
すると~/gocode/.envrcで有効にされたgo1.5.2用の設定はアンロードされて、~/gocode1.6/.envrcがsourceされgo1.6beta1用の設定が有効になります。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>