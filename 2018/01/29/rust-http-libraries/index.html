<!DOCTYPE html>
<html lang="ja">
<head>
        <meta charset="utf-8" />
        <title>rustのHTTPライブラリについて情報収集した</title>
        <link rel="stylesheet" href="../../../../theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../../../../">hnakamur's blog at github </a></h1>
                <nav><ul>
                    <li class="active"><a href="../../../../category/blog.html">blog</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="../../../../2018/01/29/rust-http-libraries/" rel="bookmark"
           title="Permalink to rustのHTTPライブラリについて情報収集した">rustのHTTPライブラリについて情報収集した</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-01-29T05:08:00+09:00">
                Published: 2018-01-29
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="https://hnakamur.github.io">Hiroaki Nakamura</a>
        </address>
<p>In <a href="../../../../category/blog.html">blog</a>.</p>
<p>tags: <a href="../../../../tag/rust.html">rust</a> </p>
</footer><!-- /.post-info -->      <div class="section" id="id1">
<h2>はじめに</h2>
<p>rustのHTTPライブラリの現状について検索して軽く情報収集したので、
HTTPに関連したIOライブラリも含めてメモしておきます。</p>
</div>
<div class="section" id="io">
<h2>非同期IO関連の動向</h2>
<ul class="simple">
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/tokio-rs/tokio-rfcs/pull/3">RFC: Tokio reform, take 2 by aturon · Pull Request #3 · tokio-rs/tokio-rfcs</a></dt>
<dd><ul class="first last">
<li><a class="reference external" href="https://github.com/tokio-rs/tokio-proto/issues/202">Question: What's the future of tokio-proto and should new libraries depend on it? · Issue #202 · tokio-rs/tokio-proto</a></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://gist.github.com/sile/87f0732236e2ebc6d108ac95a2d444c6">Rustの『RFC 2033: 実験的なコルーチン』の要約メモ</a></dt>
<dd><ul class="first last">
<li>RFCは2017-06-09にマージされてた。 <a class="reference external" href="https://github.com/rust-lang/rfcs/pull/2033#issuecomment-309603972">eRFC: Experimentally add coroutines to Rust by alexcrichton · Pull Request #2033 · rust-lang/rfcs</a></li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/alexcrichton/futures-await">alexcrichton/futures-await</a></dt>
<dd><ul class="first last">
<li>Async/await syntax for Rust and the futures crate</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/rust-lang-nursery/futures-rs">rust-lang-nursery/futures-rs: Zero-cost futures and streams in Rust</a></dt>
<dd><ul class="first last">
<li>Zero-cost futures and streams in Rust</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="http">
<h2>HTTPライブラリ</h2>
<div class="section" id="http-2">
<h3>HTTP/2</h3>
<ul class="simple">
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/carllerche/h2">https://github.com/carllerche/h2</a></dt>
<dd><ul class="first last">
<li>HTTP/2のクライアントとサーバ実装。</li>
<li>Tokioベース。</li>
<li>このライブラリ単体ではHTTP/1.0からのアップグレードやTLSなどはサポートしない。</li>
<li>hyperがこのライブラリを使うようになることでフル実装になることを目指している。</li>
<li>最終コミットは3日前。</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/hyperium/hyper/issues/304#issuecomment-357338916">https://github.com/hyperium/hyper/issues/304#issuecomment-357338916</a></dt>
<dd><ul class="first last">
<li>16日前にh2のv0.1が出て、今後hyperへの組み込みが始まっていきそう。</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/mlalic/solicit">https://github.com/mlalic/solicit</a></dt>
<dd><ul class="first last">
<li>低レベルのHTTP/2の実装。</li>
<li>高レベルの他のライブラリがこのライブラリを使えるようにするという位置づけ。</li>
<li>特定のIOライブラリのAPIに依存せず、イベントドリブンなIOライブラリでもブロッキングIOのライブラリを使う場合でも同じAPIを提供するべきとのこと。</li>
<li>現時点ではパフォーマンスは主なゴールではない。</li>
<li>最終コミットは1年前。</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="http-1-1">
<h3>HTTP/1.1</h3>
<ul class="simple">
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/swindon-rs/tk-http/">https://github.com/swindon-rs/tk-http/</a></dt>
<dd><ul class="first last">
<li>Full featured HTTP and Websockets library for rust/tokio</li>
<li>Status: Beta</li>
<li>APIは変えずに将来HTTP/2をサポート予定。</li>
<li>Apache2とMITのデュアルライセンス。</li>
<li>最終コミットは19日前。</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/SergejJurecko/mio_httpc">https://github.com/SergejJurecko/mio_httpc</a></dt>
<dd><ul class="first last">
<li>mio based async and sync http client</li>
<li>TLSバックエンドはnative, OpenSSL, rtls (rustls) のどれか1つを選んで使う。</li>
<li>Chunked encoding uploadとHTTP/2はTODO。</li>
<li>Apache2とMITのデュアルライセンス。</li>
<li>最終コミットは4時間前。</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>
<div class="section" id="web">
<h2>Webフレームワーク</h2>
<p>以下の2つの記事を読んだ。各レポジトリを見てみるとその後状況が変わっているところもあったが、結論としてはやはりironが無難そう。</p>
<ul class="simple">
<li>2017-04-29 <a class="reference external" href="https://mayoyamasaki.github.io/post/comparison-of-rust-web-frameworks/#fn:2">Comparison of Rust Web Frameworks | WIRED IN</a></li>
<li>2017-01-20 <a class="reference external" href="https://ojensen5115.github.io/rust/performance-nickel-vs-iron">Performance: Iron vs Nickel « Oliver's Development Musings</a></li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/iron/iron">iron/iron: An Extensible, Concurrent Web Framework for Rust</a></dt>
<dd><ul class="first last">
<li><a class="reference external" href="https://github.com/iron/iron/blob/4c0b68d367597c67ef4879c9b80dcd159508b0e3/Cargo.toml#L33">hyperベース。</a></li>
<li>ライセンスはMIT。</li>
<li>最終コミットは3か月前。</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/nickel-org/nickel.rs">nickel-org/nickel.rs: An expressjs inspired web framework for Rust</a></dt>
<dd><ul class="first last">
<li><a class="reference external" href="https://github.com/nickel-org/nickel.rs/blob/fd33495934c3f8b85de36823fee5f39c0a748f1f/Cargo.toml#L32-L34">hyperベース。</a></li>
<li>ライセンスはMIT。</li>
<li>最終コミットは1か月前。</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference external" href="https://github.com/SergioBenitez/Rocket">SergioBenitez/Rocket: A web framework for Rust.</a></dt>
<dd><ul class="first last">
<li>rustのnightlyが必要。</li>
<li><a class="reference external" href="https://github.com/SergioBenitez/Rocket/blob/f2331a831ababc485269178588804cd49e235db0/lib/Cargo.toml#L34">hyperベース。</a></li>
<li>Apache2とMITのデュアルライセンス。</li>
<li>最終コミットは5日前。</li>
<li><a class="reference external" href="https://github.com/SergioBenitez/Rocket/issues/17">将来は非同期IOベースに移行予定。</a> （移行時はAPI変わりそう）</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="id3">
<h2>直接関係ないけどついでにメモ</h2>
<p>WebやHTTPと関係ないが上の記事でJinja2のテンプレートエンジンのRust実装も紹介されていたのでメモ。
<a class="reference external" href="https://github.com/Keats/tera">Keats/tera: A template engine for Rust based on Jinja2/Django</a></p>
<p>あと multi-producer multi-consumer な channel 実装について調べていたら
<a class="reference external" href="https://github.com/crossbeam-rs/crossbeam-channel">crossbeam-rs/crossbeam-channel</a>
についてのredditのスレッドの <a class="reference external" href="https://www.reddit.com/r/rust/comments/7bszr4/crossbeam_rfcs_introduce_crossbeamchannel/dpl6fv1/">コメント</a> で
<a class="reference external" href="https://github.com/stjepang/rfcs-crossbeam/blob/channel/text/2017-11-09-channel.md">https://github.com/stjepang/rfcs-crossbeam/blob/channel/text/2017-11-09-channel.md</a> が紹介されていて読んでみると非常にしっかり書かれていたのでこれもメモ。</p>
</div>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is a custom version based on <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-53263855-1', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>