<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Virtualbox4 Centos6 on hnakamur&#39;s blog at github</title>
    <link>http://localhost:1313/blog/categories/virtualbox4-centos6/</link>
    <description>Recent content in Virtualbox4 Centos6 on hnakamur&#39;s blog at github</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-JP</language>
    <lastBuildDate>Tue, 03 Jul 2012 00:00:00 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/blog/categories/virtualbox4-centos6/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>VirtualBox4でCentOS6.2をインストール</title>
      <link>http://localhost:1313/blog/2012/07/03/virtualbox4decentos6-dot-2woinsutoru/</link>
      <pubDate>Tue, 03 Jul 2012 00:00:00 +0000</pubDate>
      
      <guid>http://localhost:1313/blog/2012/07/03/virtualbox4decentos6-dot-2woinsutoru/</guid>
      <description>

&lt;h2 id=&#34;virtualboxのインストール:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;VirtualBoxのインストール&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://www.virtualbox.org/wiki/Downloads&#34;&gt;Downloads – Oracle VM VirtualBox&lt;/a&gt;
からダウンロードしてインストールしてください。&lt;/p&gt;

&lt;h2 id=&#34;ネットワークインストールのisoイメージをダウンロード:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;ネットワークインストールのISOイメージをダウンロード&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;http://ftp.riken.jp/Linux/centos/6.2/isos/x86_64/CentOS-6.2-x86_64-netinstall.iso&#34;&gt;CentOS-6.2-x86_64-netinstall.iso&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;ホストオンリーネットワークを作成:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;ホストオンリーネットワークを作成&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;[VirualBox]/[環境設定&amp;hellip;]&lt;/li&gt;
&lt;li&gt;[ネットワーク]タブ&lt;/li&gt;
&lt;li&gt;[+]アイコンボタンを押してvboxnet0を作成&lt;/li&gt;
&lt;li&gt;ドライバーアイコンのボタン&lt;/li&gt;
&lt;li&gt;[アダプタ]タブでIPv4アドレスが「192.168.56.1」となっていることを確認&lt;/li&gt;
&lt;li&gt;[DHCPサーバー]タブ&lt;/li&gt;
&lt;li&gt;[サーバーを有効化]のチェックを外す&lt;/li&gt;
&lt;li&gt;[OK]&lt;/li&gt;
&lt;li&gt;[OK]&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;仮想マシンの作成:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;仮想マシンの作成&lt;/h2&gt;

&lt;h3 id=&#34;仮想マシン名とosタイプ:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;仮想マシン名とOSタイプ&lt;/h3&gt;

&lt;p&gt;名前は「CentOS6」
オペレーティングシステムは「Linux」
バージョンは「Linux 2.6 (64bit)」&lt;/p&gt;

&lt;h3 id=&#34;メモリ:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;メモリ&lt;/h3&gt;

&lt;p&gt;メインメモリのサイズは1024MB&lt;/p&gt;

&lt;h3 id=&#34;仮想ハードディスク:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;仮想ハードディスク&lt;/h3&gt;

&lt;p&gt;変更なし&lt;/p&gt;

&lt;h3 id=&#34;the-virtual-disk-creation-wizard:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;the virtual disk creation wizard&lt;/h3&gt;

&lt;p&gt;File typeはVDI (VirtualBox Disk Image)&lt;/p&gt;

&lt;h3 id=&#34;virtual-disk-storage-details:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Virtual disk storage details&lt;/h3&gt;

&lt;p&gt;Storage detailsはDyamically allocated&lt;/p&gt;

&lt;h3 id=&#34;virtual-disk-file-location-and-size:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Virtual disk file location and size&lt;/h3&gt;

&lt;p&gt;サイズは30GB&lt;/p&gt;

&lt;h2 id=&#34;インストール前の仮想マシンの設定変更:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;インストール前の仮想マシンの設定変更&lt;/h2&gt;

&lt;h3 id=&#34;dvdドライブにメディアを設定:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;DVDドライブにメディアを設定&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;[仮想マシン]/[設定]&lt;/li&gt;
&lt;li&gt;[ストレージ]タブ&lt;/li&gt;
&lt;li&gt;ストレージツリーでIDEコントローラ/空を選択&lt;/li&gt;
&lt;li&gt;属性のCD/DVDドライブの右のDVDメディアアイコンをクリックして&lt;/li&gt;
&lt;li&gt;上記でダウンロードしたCentOS-6.2-x86_64-netinstall.isoを選択&lt;/li&gt;
&lt;li&gt;[OK]&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;ネットワークアダプタ:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;ネットワークアダプタ&lt;/h3&gt;

&lt;p&gt;以下の手順では[VirtualBox マネージャー]画面からでも操作可能な部分もありますが、説明しやすいのでメニューバーからの操作で説明します。&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;[仮想マシン]/[設定]&lt;/li&gt;
&lt;li&gt;[ネットワーク]タブ&lt;/li&gt;
&lt;li&gt;[アダプタ2]タブ&lt;/li&gt;
&lt;li&gt;[ネットワークアダプタを有効化]にチェック&lt;/li&gt;
&lt;li&gt;[割り当て]で「ホストオンリーアダプタ」を選択&lt;/li&gt;
&lt;li&gt;[名前]で「vboxnet0」を選択&lt;/li&gt;
&lt;li&gt;[OK]&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;centos6-2のインストール:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;CentOS6.2のインストール&lt;/h2&gt;

&lt;h3 id=&#34;テキストモードでインストール開始:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;テキストモードでインストール開始&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;[仮想マシン]/[起動]&lt;/li&gt;
&lt;li&gt;Welcome to CentOS 6.2!」の画面でTABを押す
&lt;pre&gt;
&amp;gt; vmlinuz initrd=initrd.img
&lt;/pre&gt;
と表示されているところに、スペース、text、リターンを入力し
&lt;pre&gt;
&amp;gt; vmlinuz initrd=initrd.img text
&lt;/pre&gt;
としてインストール開始&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;disc-found:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Disc Found&lt;/h3&gt;

&lt;p&gt;[Skip]を選択&lt;/p&gt;

&lt;h3 id=&#34;choose-a-language:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Choose a Language&lt;/h3&gt;

&lt;p&gt;[English]を選択&lt;/p&gt;

&lt;h3 id=&#34;keyboard-type:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Keyboard Type&lt;/h3&gt;

&lt;p&gt;[us]を選択&lt;/p&gt;

&lt;h3 id=&#34;installation-method:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Installation Method&lt;/h3&gt;

&lt;p&gt;[URL]を選択して[OK]&lt;/p&gt;

&lt;h3 id=&#34;network-device:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Network Device&lt;/h3&gt;

&lt;p&gt;[eth0]を選択して[OK]&lt;/p&gt;

&lt;h3 id=&#34;configure-tcp-ip:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Configure TCP/IP&lt;/h3&gt;

&lt;p&gt;[Enable IPv6 support]をオフにして[OK]&lt;/p&gt;

&lt;h3 id=&#34;url-setup:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;URL Setup&lt;/h3&gt;

&lt;p&gt;&lt;a href=&#34;http://ftp.riken.jp/Linux/centos/6.2/os/x86_64&#34;&gt;http://ftp.riken.jp/Linux/centos/6.2/os/x86_64&lt;/a&gt;
と入力して[OK]&lt;/p&gt;

&lt;h3 id=&#34;would-you-like-to-use-vnc:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Would you like to use VNC?&lt;/h3&gt;

&lt;p&gt;[Use text mode]を選択&lt;/p&gt;

&lt;h3 id=&#34;error-processing-driveのwarning:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Error processing driveのWarning&lt;/h3&gt;

&lt;p&gt;[Re-initialize all]を選択&lt;/p&gt;

&lt;h3 id=&#34;time-zone-selection:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Time Zone Selection&lt;/h3&gt;

&lt;p&gt;[System clock uses UTC]のチェックはオンで
[Asia/Tokyo]を選択して[OK]&lt;/p&gt;

&lt;h3 id=&#34;root-password:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Root Password&lt;/h3&gt;

&lt;p&gt;[Password]と[Password (confirm)]を入力して[OK]&lt;/p&gt;

&lt;h3 id=&#34;partition-type:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Partition Type&lt;/h3&gt;

&lt;p&gt;[OK]&lt;/p&gt;

&lt;h3 id=&#34;writing-storage-configuration-to-disk:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Writing storage configuration to disk&lt;/h3&gt;

&lt;p&gt;[Write changes to disk]&lt;/p&gt;

&lt;h3 id=&#34;complete:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;Complete&lt;/h3&gt;

&lt;p&gt;[Reboot]を押し、再起動が開始して[Welcome to CentOS 6.2!]の画面になったらTABを2回押して起動を中断
仮想マシンのウィンドウの閉じるボタンを押し、｢操作を選択]で[仮想マシンの電源オフ]を選択して[OK]&lt;/p&gt;

&lt;h2 id=&#34;インストール後の仮想マシンの設定変更:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;インストール後の仮想マシンの設定変更&lt;/h2&gt;

&lt;h3 id=&#34;dvdドライブのメディアを除去:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;DVDドライブのメディアを除去&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;[仮想マシン]/[設定]&lt;/li&gt;
&lt;li&gt;[ストレージ]タブ&lt;/li&gt;
&lt;li&gt;ストレージツリーでIDEコントローラ/CentOS-6.2-x86_64-netinstall.isoを選択&lt;/li&gt;
&lt;li&gt;属性のCD/DVDドライブの右のDVDメディアアイコンをクリックして&lt;/li&gt;
&lt;li&gt;[仮想ドライブからディスクを除去]&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;ネットワークアダプタでvirtio-netを選択:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;ネットワークアダプタでvirtio-netを選択&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;[仮想マシン]/[設定]&lt;/li&gt;
&lt;li&gt;[ネットワーク]タブ&lt;/li&gt;
&lt;li&gt;[アダプタ1]タブ&lt;/li&gt;
&lt;li&gt;[高度]をクリック&lt;/li&gt;
&lt;li&gt;アダプタタイプで「準仮想化ネットワーク(virtio-net)」を選択&lt;/li&gt;
&lt;li&gt;[アダプタ2]タブ&lt;/li&gt;
&lt;li&gt;[高度]をクリック&lt;/li&gt;
&lt;li&gt;アダプタタイプで「準仮想化ネットワーク(virtio-net)」を選択&lt;/li&gt;
&lt;li&gt;[OK]&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&#34;仮想ディスクから仮想マシンを起動してネットワークの設定:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;仮想ディスクから仮想マシンを起動してネットワークの設定&lt;/h2&gt;

&lt;p&gt;[仮想マシン]/[起動]&lt;/p&gt;

&lt;p&gt;[localhost login:]というログインプロンプトが表示されたらroot、リターンと入力し、[Password:]プロンプトでパスワード、リターンを入力し、ログイン。&lt;/p&gt;

&lt;h3 id=&#34;eth1の設定:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;eth1の設定&lt;/h3&gt;

&lt;p&gt;vi /etc/sysconfig/network-scripts/ifcfg-eth1&lt;/p&gt;

&lt;h4 id=&#34;変更前:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;変更前&lt;/h4&gt;

&lt;p&gt;HWADDRの値はインストール毎に異なります。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DEVICE=&amp;quot;eth1&amp;quot;
HWADDR=&amp;quot;08:00:27:28:EB:27&amp;quot;
NM_CONTROLLED=&amp;quot;yes&amp;quot;
ONBOOT=&amp;quot;no&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;変更後:b1364ef41b10fc2f5f8d479674c6fba8&#34;&gt;変更後&lt;/h4&gt;

&lt;p&gt;ONBOOTをyesに変更し、下記のようにTYPE, IPADDR, NETMASKの行を追加します。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;DEVICE=&amp;quot;eth1&amp;quot;
HWADDR=&amp;quot;08:00:27:28:EB:27&amp;quot;
NM_CONTROLLED=&amp;quot;yes&amp;quot;
ONBOOT=&amp;quot;yes&amp;quot;
TYPE=&amp;quot;Ethernet&amp;quot;
IPADDR=&amp;quot;192.168.56.101&amp;quot;
NETMASK=&amp;quot;255.255.255.0&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;
/etc/init.d/network restart
&lt;/pre&gt;
を実行しネットワークを再起動します。

### ネットワークの動作確認

以下のコマンドを実行し、DNS名前解決とインターネットへのアクセスができることを確認。
&lt;pre&gt;
ping ftp.riken.jp
&lt;/pre&gt;

&lt;p&gt;ホストマシンから仮想マシンにアクセスできることを確認。
&lt;pre&gt;
ping 192.168.56.101
&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;確認できたら仮想マシンからログアウト
&lt;pre&gt;
exit
&lt;/pre&gt;&lt;/p&gt;

&lt;p&gt;以降はホストマシンからsshでログインして操作可能です。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ssh root@192.168.56.101
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>