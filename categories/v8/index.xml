<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>V8 on hnakamur&#39;s blog</title>
    <link>https://hnakamur.github.io/blog/categories/v8/</link>
    <description>Recent content in V8 on hnakamur&#39;s blog</description>
    <generator>Hugo</generator>
    <language>ja-jp</language>
    <lastBuildDate>Tue, 12 Mar 2013 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://hnakamur.github.io/blog/categories/v8/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>lua, V8, ruby, mrubyでfib(39)の実行時間比較</title>
      <link>https://hnakamur.github.io/blog/2013/03/12/fib-39-benchmark-in-luajit/</link>
      <pubDate>Tue, 12 Mar 2013 00:00:00 +0000</pubDate>
      <guid>https://hnakamur.github.io/blog/2013/03/12/fib-39-benchmark-in-luajit/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://hnakamur.github.com/blog/2012/05/04/fib-39-benchmark-in-lua/&#34;&gt;lua, V8, ruby, mrubyでfib(39)の実行時間比較 - hnakamur&amp;rsquo;s blog at github&lt;/a&gt;が&lt;a href=&#34;https://twitter.com/yukihiro_matz&#34;&gt;@matz&lt;/a&gt;さんにツイートされたのを受けて、各処理系の最新版で再度試してみました。&lt;/p&gt;&#xA;&lt;h2 id=&#34;テスト環境その1前回とは違う環境です&#34;&gt;テスト環境その1（前回とは違う環境です）&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Model: MacBook Pro Retina, Mid 2012&lt;/li&gt;&#xA;&lt;li&gt;CPU: 2.6GHz Intel Core i7&lt;/li&gt;&#xA;&lt;li&gt;RAM: 16GB 1600MHz DDR3&lt;/li&gt;&#xA;&lt;li&gt;OS: Mac OS X 10.8.2&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;2013-03-24-追記&#34;&gt;2013-03-24 追記&lt;/h3&gt;&#xA;&lt;p&gt;goでも試してみました&lt;/p&gt;&#xA;&lt;h3 id=&#34;go-103&#34;&gt;go 1.0.3&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;package main&#xA;&#xA;import &amp;#34;fmt&amp;#34;&#xA;&#xA;func fib(n int) int {&#xA;  if n &amp;lt; 2 {&#xA;    return n&#xA;  }&#xA;  return fib(n - 1) + fib(n - 2)&#xA;}&#xA;&#xA;func main() {&#xA;  fmt.Println(fib(39))&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ time fib39&#xA;63245986&#xA;&#xA;real    0m0.484s&#xA;user    0m0.481s&#xA;sys     0m0.002s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;lua&#34;&gt;lua&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;function fib(n)&#xA;  if n &amp;lt; 2 then&#xA;    return n&#xA;  end&#xA;  return fib(n-2) + fib(n-1)&#xA;end&#xA;&#xA;print(fib(39))&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ luajit -v&#xA;LuaJIT 2.0.1 -- Copyright (C) 2005-2013 Mike Pall. http://luajit.org/&#xA;$ time luajit fib.lua&#xA;63245986&#xA;&#xA;real  0m0.906s&#xA;user  0m0.901s&#xA;sys 0m0.003s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ lua -v&#xA;Lua 5.1.5  Copyright (C) 1994-2012 Lua.org, PUC-Rio&#xA;$ time lua fib.lua&#xA;63245986&#xA;&#xA;real  0m12.278s&#xA;user  0m12.271s&#xA;sys 0m0.006s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ src/lua -v&#xA;Lua 5.2.1  Copyright (C) 1994-2012 Lua.org, PUC-Rio&#xA;$ time src/lua ~/bench/fib.lua&#xA;63245986&#xA;&#xA;real  0m13.971s&#xA;user  0m13.965s&#xA;sys 0m0.005s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;v8&#34;&gt;v8&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;function fib(n) {&#xA;  if (n &amp;lt; 2) return n;&#xA;  return fib(n-2) + fib(n-1);&#xA;}&#xA;&#xA;print(fib(39));&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ v8&#xA;V8 version 3.16.14 [sample shell]&#xA;&amp;gt; ^D&#xA;$ time v8 fib.js&#xA;63245986&#xA;&#xA;real  0m0.804s&#xA;user  0m0.798s&#xA;sys 0m0.008s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ruby&#34;&gt;ruby&lt;/h3&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;def fib n&#xA;  return n if n &amp;lt; 2&#xA;  fib(n-2) + fib(n-1)&#xA;end&#xA;&#xA;puts fib(39)&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ git log -1 | grep commit&#xA;commit 46d8c51763bd13b69a4234f0d4be05cbfd8ae401&#xA;&#xA;$ time bin/mruby fib.rb&#xA;63245986&#xA;&#xA;real  0m16.357s&#xA;user  0m16.345s&#xA;sys 0m0.008s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ rbenv version&#xA;1.9.3-p374 (set by /Users/hnakamur/.rbenv/version)&#xA;$ time ruby fib.rb&#xA;63245986&#xA;&#xA;real  0m16.225s&#xA;user  0m16.169s&#xA;sys 0m0.043s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ rbenv version&#xA;1.9.3-p392 (set by /Users/hnakamur/.rbenv/version)&#xA;$ time ruby fib.rb&#xA;63245986&#xA;&#xA;real  0m36.813s&#xA;user  0m36.746s&#xA;sys 0m0.043s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ rbenv version&#xA;2.0.0-p0 (set by /Users/hnakamur/.rbenv/version)&#xA;$ time ruby fib.rb &#xA;63245986&#xA;&#xA;real  0m31.828s&#xA;user  0m31.743s&#xA;sys 0m0.045s&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;2013-03-12-2315-追記&#34;&gt;2013-03-12 23:15 追記&lt;/h3&gt;&#xA;&lt;p&gt;1.9.3-p374と1.9.3-p392でこんなに違うのは変だなと思って、1.9.3-p374を入れなおして再度測ってみました。&lt;/p&gt;</description>
    </item>
    <item>
      <title>lua, V8, ruby, mrubyでfib(39)の実行時間比較 2013-03-12版</title>
      <link>https://hnakamur.github.io/blog/2012/05/04/fib-39-benchmark-in-lua/</link>
      <pubDate>Fri, 04 May 2012 00:00:00 +0000</pubDate>
      <guid>https://hnakamur.github.io/blog/2012/05/04/fib-39-benchmark-in-lua/</guid>
      <description>&lt;p&gt;2013-03-13追記&lt;/p&gt;&#xA;&lt;p&gt;この記事が&lt;a href=&#34;https://twitter.com/yukihiro_matz&#34;&gt;@matz&lt;/a&gt;さんにツイートされたのを受けて、各処理系の最新版で再度試してみました。&#xA;&lt;a href=&#34;http://hnakamur.github.com/blog/2013/03/12/fib-39-benchmark-in-luajit/&#34;&gt;lua, V8, ruby, mrubyでfib(39)の実行時間比較 2013-03-12版&lt;/a&gt;をご参照ください。&lt;/p&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://www.quredo.net/2012/04/mruby-%E8%BB%BD%E9%87%8Fruby-%E3%82%BD%E3%83%BC%E3%82%B9%E5%85%AC%E9%96%8B/&#34;&gt;mruby (軽量ruby) ソース公開 | quredo-style&lt;/a&gt;を見て、自分の環境でlua, luajit, V8, ruby, mrubyで試してみた。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
