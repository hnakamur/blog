<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja-jp" lang="ja-jp">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.133.1">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>React Native for Windows &#43; macOS を試してみた &middot; hnakamur&#39;s blog</title>
  <meta name="description" content="" />

  
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/copy-button.css">
  <link type="text/css" rel="stylesheet" href="https://hnakamur.github.io/blog/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://hnakamur.github.io/blog/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://hnakamur.github.io/blog/favicon.png">

  
  


<script async src="https://www.googletagmanager.com/gtag/js?id=G-KMMXGG2Z56"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-KMMXGG2Z56');
</script>



</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://hnakamur.github.io/blog/"><h1>hnakamur&#39;s blog</h1></a>
      <p class="lead">
       my tech memo 
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://hnakamur.github.io/blog/"> blog home </a></li><li><a href="https://github.com/hnakamur"> github @hnakamur </a></li><li><a href="https://twitter.com/hnakamur2"> twitter @hnakamur2 </a></li>
      </ul>
    </nav>

    <p>powered by <a href="http://gohugo.io">Hugo</a> and <a href="https://pages.github.com/">GitHub Pages</a></p>
    <p>&copy; 2024. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>React Native for Windows &#43; macOS を試してみた</h1>
  <time datetime=2020-07-25T10:38:36&#43;0900 class="post-date">2020-07-25</time>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#はじめに">はじめに</a></li>
    <li><a href="#react-native-for-windows">React Native for Windows</a>
      <ul>
        <li><a href="#必要なソフトウェアのインストール">必要なソフトウェアのインストール</a></li>
        <li><a href="#react-native-for-windows-のサンプルプロジェクトを試してみるが起動失敗">React Native for Windows のサンプルプロジェクトを試してみるが起動失敗</a></li>
        <li><a href="#msvcp140d_appdll-が無いと言われるのでインストール"><code>msvcp140d_app.dll</code> が無いと言われるのでインストール</a></li>
        <li><a href="#横道-linux-の-ldd-相当は-dumpbin-dependents-で-ok">(横道) Linux の ldd 相当は dumpbin /dependents で OK</a></li>
        <li><a href="#react-native-for-windows-のサンプルプロジェクトを再実行して今度は成功">React Native for Windows のサンプルプロジェクトを再実行して今度は成功</a></li>
        <li><a href="#react-native-for-windows-のサンプルプロジェクトを変更してみる">React Native for Windows のサンプルプロジェクトを変更してみる</a></li>
      </ul>
    </li>
    <li><a href="#react-native-for-macos">React Native for macOS</a>
      <ul>
        <li><a href="#必要なソフトウェアのインストール-1">必要なソフトウェアのインストール</a></li>
        <li><a href="#react-native-for-macos-のサンプルプロジェクトを試してみる">React Native for macOS のサンプルプロジェクトを試してみる</a></li>
        <li><a href="#react-native-for-macos-のサンプルプロジェクトを変更してみる">React Native for macOS のサンプルプロジェクトを変更してみる</a></li>
      </ul>
    </li>
    <li><a href="#おわりに">おわりに</a></li>
  </ul>
</nav>
  <h2 id="はじめに">はじめに</h2>
<p>voluntas さんの <a href="https://twitter.com/voluntas/status/1286568276676370433">ツイート</a> と <a href="https://www.youtube.com/watch?v=QMFbrHZnvvw">MS Build SK119 React Native: Build cross platform apps that target Windows, Mac, and more! - YouTube</a> の紹介動画を見て自分でも試してみたのでメモです。</p>
<h2 id="react-native-for-windows">React Native for Windows</h2>
<h3 id="必要なソフトウェアのインストール">必要なソフトウェアのインストール</h3>
<p><a href="https://github.com/microsoft/react-native-windows#getting-started">microsoft/react-native-windows: A framework for building native Windows apps with React.</a> の <a href="https://github.com/microsoft/react-native-windows#requirements">Requirements</a> から
<a href="https://microsoft.github.io/react-native-windows/docs/rnw-dependencies">System Requirements · React Native for Windows + macOS</a> を開いてここに書いてある PowerShell のスクリプトを実行して必要なソフトウェアをインストールしました。</p>
<p><a href="https://gitforwindows.org/">Git for Windows</a> は私は事前にインストール済みでした。</p>
<p>管理者として PowerShell を起動し、以下のスクリプトを実行します。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="nb">Start-Process</span> <span class="n">-Verb</span> <span class="n">RunAs</span> <span class="n">powershell</span> <span class="n">-ArgumentList</span> <span class="vm">@</span><span class="p">(</span><span class="s2">&#34;-command&#34;</span><span class="p">,</span> <span class="s2">&#34;iex ((New-Object System.Net.WebClient).DownloadString(&#39;https://raw.githubusercontent.com/microsoft/react-native-windows/master/vnext/Scripts/rnw-dependencies.ps1&#39;))&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>Visual Studio 2019 Community や Node.js などをインストールするか逐次聞かれるので <code>y</code> と Enter を押してインストールします。</p>
<h3 id="react-native-for-windows-のサンプルプロジェクトを試してみるが起動失敗">React Native for Windows のサンプルプロジェクトを試してみるが起動失敗</h3>
<p><a href="https://github.com/microsoft/react-native-windows#getting-started">Getting Started</a> の <a href="https://microsoft.github.io/react-native-windows/docs/getting-started">Getting Started Guide</a> の手順に従って試してみました。</p>
<p>通常権限のコマンドプロンプトを開いて以下のコマンドを実行します。
ここではプロジェクト名は <code>hello_react_native</code> として TypeScript のテンプレートを指定しています。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl">npx react-native init hello_react_native --template react-native-template-typescript@6.4.*
</span></span></code></pre></div><p>ちなみにプロジェクト名に <code>-</code> を含むと以下のようなエラーが出ました。 alphanumeric しか使えないと言っていますが <code>_</code> は使えます。そういえば冒頭の動画でも <code>_</code> は使っていました。</p>
<pre tabindex="0"><code>error &#34;hello-react-native&#34; is not a valid name for a project. Please use a valid identifier name (alphanumeric). Run CLI with --verbose flag for more details.
</code></pre><p>プロジェクトが生成されたら、プロジェクトのディレクトリに移動します。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl"><span class="k">cd</span> hello_react_native
</span></span></code></pre></div><p>以下のコマンドを実行して React Native for Windows のパッケージをインストールします。実行するとプロジェクト内に <code>windows</code> というフォルダーとサブフォルダー階層が作成されます。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl">npx react-native-windows-init --overwrite
</span></span></code></pre></div><p>以下のコマンドを実行してアプリケーションを起動します。エラーが起きると <code>--logging</code> を付けて再度実行するようメッセージが出るので私は常につけておくことにしました。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl">npx react-native run-windows --logging
</span></span></code></pre></div><h3 id="msvcp140d_appdll-が無いと言われるのでインストール"><code>msvcp140d_app.dll</code> が無いと言われるのでインストール</h3>
<p>ここが今回の最大のはまりポイントでした。上記のコマンドを実行すると、しばらくビルドが続いた後、以下のエラーが出ました。
<code>Microsoft.VCLibs.140.00.Debug</code> というフレームワークが無いとのことです。</p>
<pre tabindex="0"><code>√ Building Solution
 √ Starting the React-Native Server
 ? Applying Add-AppDevPackage.ps1 workaround for VS 16.5-16.6 bug - see https://developercommunity.visualstudio.com/content/problem/1012921/uwp-packaging-generates-incompatible-certificate.html
 √ Removing old version of the app
 √ Enabling Developer Mode
 Add-AppxPackage : Deployment failed with HRESULT: 0x80073CF3, パッケージの更新、依存関係、または競合の検証に失敗しました。
パッケージ 11173bc7-90b1-4e0d-87cb-9b82d39848c3_1.0.0.0_x86__bgae2mfp0tfdt は、見つからないフレームワークに依存しているためインストールできません。インストールする&gt;このパッケージには、フレームワーク &#34;Microsoft.VCLibs.140.00.Debug&#34; (公開元 &#34;CN=Microsoft Corporation, O=Microsoft Corporation, L=Redmond, S=Washington, C=US&#34;、ニュ&gt;ートラルまたは x86 プロセッサ アーキテクチャ、最少バージョン 14.0.27810.0) が必要です。現在インストールされている &#34;Microsoft.VCLibs.140.00.Debug&#34; という名前のフレー
ムワークは次のとおりです: {Microsoft.VCLibs.140.00.Debug_14.0.25547.0_x86__8wekyb3d8bbwe Microsoft.VCLibs.140.00.Debug_14.0.25547.0_x64__8wekyb3d8bbwe}
NOTE: For additional information, look for [ActivityId] 95d6bf9d-620c-0000-411c-d9950c62d601 in the Event Log or use the command line Get-AppPackageLog -Acti
vityID 95d6bf9d-620c-0000-411c-d9950c62d601
At C:\Users\hnakamur\hello_react_native\node_modules\react-native-windows\local-cli\runWindows\utils\WindowsStoreAppUtils.ps1:183 char:5
+     Add-AppxPackage -Path $Path -Register -ForceApplicationShutdown
+     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : WriteError: (C:\Users\hnakam...ppxManifest.xml:String) [Add-AppxPackage], IOException
    + FullyQualifiedErrorId : DeploymentError,Microsoft.Windows.Appx.PackageManager.Commands.AddAppxPackageCommand

× Installing new version of the app from layout
 × Failed to deploy: Installing new version of the app from layout
</code></pre><p>いろいろ検索して調べたところ <a href="https://developercommunity.visualstudio.com/solutions/49987/view.html">https://developercommunity.visualstudio.com/solutions/49987/view.html</a> に書かれている手順で解決できました。</p>
<ol>
<li>
<p>管理者権限で PowerShell を開きます。</p>
</li>
<li>
<p>以下のコマンドを実行して、2つのパッケージをインストールします。</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="nb">add-appxpackage</span> <span class="s2">&#34;C:\Program Files (x86)\Microsoft SDKs\Windows Kits\10\ExtensionSDKs\Microsoft.VCLibs\14.0\Appx\Debug\x64\Microsoft.VCLibs.x64.Debug.14.00.appx&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">add-appxpackage</span> <span class="s2">&#34;C:\Program Files (x86)\Microsoft SDKs\Windows Kits\10\ExtensionSDKs\Microsoft.VCLibs\14.0\Appx\Debug\x86\Microsoft.VCLibs.x86.Debug.14.00.appx&#34;</span>
</span></span></code></pre></div><ol start="3">
<li>上記の2つのパッケージが正しくインストールされたことを確認します。</li>
</ol>
<pre tabindex="0"><code>PS C:\WINDOWS\system32&gt; get-appxpackage | where-object {$_.Name -eq &#34;Microsoft.VCLibs.140.00.Debug&#34;}


Name              : Microsoft.VCLibs.140.00.Debug
Publisher         : CN=Microsoft Corporation, O=Microsoft Corporation, L=Redmond, S=Washington, C=US
Architecture      : X64
ResourceId        :
Version           : 14.0.27810.0
PackageFullName   : Microsoft.VCLibs.140.00.Debug_14.0.27810.0_x64__8wekyb3d8bbwe
InstallLocation   : C:\Program Files\WindowsApps\Microsoft.VCLibs.140.00.Debug_14.0.27810.0_x64__8wekyb3d8bbwe
IsFramework       : True
PackageFamilyName : Microsoft.VCLibs.140.00.Debug_8wekyb3d8bbwe
PublisherId       : 8wekyb3d8bbwe
IsResourcePackage : False
IsBundle          : False
IsDevelopmentMode : False
NonRemovable      : False
IsPartiallyStaged : False
SignatureKind     : Developer
Status            : Ok

Name              : Microsoft.VCLibs.140.00.Debug
Publisher         : CN=Microsoft Corporation, O=Microsoft Corporation, L=Redmond, S=Washington, C=US
Architecture      : X86
ResourceId        :
Version           : 14.0.27810.0
PackageFullName   : Microsoft.VCLibs.140.00.Debug_14.0.27810.0_x86__8wekyb3d8bbwe
InstallLocation   : C:\Program Files\WindowsApps\Microsoft.VCLibs.140.00.Debug_14.0.27810.0_x86__8wekyb3d8bbwe
IsFramework       : True
PackageFamilyName : Microsoft.VCLibs.140.00.Debug_8wekyb3d8bbwe
PublisherId       : 8wekyb3d8bbwe
IsResourcePackage : False
IsBundle          : False
IsDevelopmentMode : False
NonRemovable      : False
IsPartiallyStaged : False
SignatureKind     : Developer
Status            : Ok
</code></pre><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-powershell" data-lang="powershell"><span class="line"><span class="cl"><span class="nb">PS </span><span class="n">C:</span><span class="p">\</span><span class="n">WINDOWS</span><span class="p">\</span><span class="n">system32</span><span class="p">&gt;</span> <span class="nb">Get-ChildItem</span> <span class="n">-Path</span> <span class="s2">&#34;C:\Program Files\WindowsApps\Microsoft.VCLibs.140.00.Debug*\msvcp140d_app.dll&#34;</span> <span class="p">|</span> <span class="nb">Select </span><span class="n">FullName</span>                                                                                                   
</span></span><span class="line"><span class="cl"><span class="n">FullName</span>
</span></span><span class="line"><span class="cl"><span class="p">--------</span>
</span></span><span class="line"><span class="cl"><span class="n">C:</span><span class="p">\</span><span class="n">Program</span> <span class="n">Files</span><span class="p">\</span><span class="n">WindowsApps</span><span class="p">\</span><span class="n">Microsoft</span><span class="p">.</span><span class="py">VCLibs</span><span class="p">.</span><span class="py">140</span><span class="p">.</span><span class="py">00</span><span class="p">.</span><span class="py">Debug_14</span><span class="p">.</span><span class="py">0</span><span class="p">.</span><span class="py">27810</span><span class="p">.</span><span class="n">0_x64__8wekyb3d8bbwe</span><span class="p">\</span><span class="n">msvcp140d_app</span><span class="p">.</span><span class="py">dll</span>
</span></span><span class="line"><span class="cl"><span class="n">C:</span><span class="p">\</span><span class="n">Program</span> <span class="n">Files</span><span class="p">\</span><span class="n">WindowsApps</span><span class="p">\</span><span class="n">Microsoft</span><span class="p">.</span><span class="py">VCLibs</span><span class="p">.</span><span class="py">140</span><span class="p">.</span><span class="py">00</span><span class="p">.</span><span class="py">Debug_14</span><span class="p">.</span><span class="py">0</span><span class="p">.</span><span class="py">27810</span><span class="p">.</span><span class="n">0_x86__8wekyb3d8bbwe</span><span class="p">\</span><span class="n">msvcp140d_app</span><span class="p">.</span><span class="py">dll</span>
</span></span></code></pre></div><h3 id="横道-linux-の-ldd-相当は-dumpbin-dependents-で-ok">(横道) Linux の ldd 相当は dumpbin /dependents で OK</h3>
<p>調査中に、実行ファイルが依存しているライブラリを調べる（Linux の <code>ldd</code> 相当）のは <code>dumpbin /dependents</code> で出来ることを知ったのでメモ。</p>
<pre tabindex="0"><code>C:\Users\h-nakamura\hello_react_native&gt;&#34;C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Tools\MSVC\14.26.28801\bin\Hostx64\arm\dumpbin.exe&#34; /dependents C:\Users\h-nakamura\hello_react_native\windows\Debug\hello_react_native\hello_react_native.exe
Microsoft (R) COFF/PE Dumper Version 14.26.28806.0
Copyright (C) Microsoft Corporation.  All rights reserved.


Dump of file C:\Users\h-nakamura\hello_react_native\windows\Debug\hello_react_native\hello_react_native.exe

File Type: EXECUTABLE IMAGE

  Image has the following dependencies:

    MSVCP140D_APP.dll
    VCRUNTIME140D_APP.dll
    ucrtbased.dll
    api-ms-win-core-processthreads-l1-1-0.dll
    api-ms-win-core-synch-l1-1-0.dll
    api-ms-win-core-synch-l1-2-0.dll
    api-ms-win-core-debug-l1-1-0.dll
    api-ms-win-core-errorhandling-l1-1-0.dll
    api-ms-win-core-string-l1-1-0.dll
    api-ms-win-core-processthreads-l1-1-1.dll
    api-ms-win-core-winrt-l1-1-0.dll
    api-ms-win-core-profile-l1-1-0.dll
    api-ms-win-core-sysinfo-l1-1-0.dll
    api-ms-win-core-libraryloader-l1-2-0.dll
    api-ms-win-core-interlocked-l1-1-0.dll
    api-ms-win-core-heap-l1-1-0.dll
    api-ms-win-core-memory-l1-1-0.dll
    api-ms-win-core-com-l1-1-0.dll
    api-ms-win-core-libraryloader-l1-2-1.dll
    OLEAUT32.dll

  Summary

        1000 .00cfg
        D000 .data
        3000 .idata
        1000 .msvcjmc
       45000 .rdata
        E000 .reloc
      125000 .text
       88000 .textbss
        1000 .tls
</code></pre><h3 id="react-native-for-windows-のサンプルプロジェクトを再実行して今度は成功">React Native for Windows のサンプルプロジェクトを再実行して今度は成功</h3>
<p>通常のコマンドプロンプトに戻って、再び以下のコマンドを実行すると今度は起動できました。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl">npx react-native run-windows --logging
</span></span></code></pre></div><p>元のコマンドプロンプトから、さらに以下のウィンドウが開きます。</p>
<ul>
<li>npm というタイトルのコマンドプロンプト。以下のような内容が出力されます。 <code>BUNDLE</code> のところはロード中はプログレスバーになっています（冒頭の動画参照）。</li>
</ul>
<pre tabindex="0"><code>               ######                ######
             ###     ####        ####     ###
            ##          ###    ###          ##
            ##             ####             ##
            ##             ####             ##
            ##           ##    ##           ##
            ##         ###      ###         ##
             ##  ########################  ##
          ######    ###            ###    ######
      ###     ##    ##              ##    ##     ###
   ###         ## ###      ####      ### ##         ###
  ##           ####      ########      ####           ##
 ##             ###     ##########     ###             ##
  ##           ####      ########      ####           ##
   ###         ## ###      ####      ### ##         ###
      ###     ##    ##              ##    ##     ###
          ######    ###            ###    ######
             ##  ########################  ##
            ##         ###      ###         ##
            ##           ##    ##           ##
            ##             ####             ##
            ##             ####             ##
            ##          ###    ###          ##
             ###     ####        ####     ###
               ######                ######

                 Welcome to React Native!
                Learn once, write anywhere



To reload the app press &#34;r&#34;
To open developer menu press &#34;d&#34;

info Launching Dev Tools...
[Sat Jul 25 2020 11:22:17.922]  BUNDLE  ./index.js

[Sat Jul 25 2020 11:22:21.760]  BUNDLE  ./index.js

[Sat Jul 25 2020 11:22:27.229]  LOG      JavaScript logs will appear in your browser console
</code></pre><ul>
<li>React Native Debugger というタイトルのブラウザーのウィンドウ。</li>
<li>プロジェクト名 <code>hello_react_native</code> のアプリケーションウィンドウ。</li>
</ul>
<h3 id="react-native-for-windows-のサンプルプロジェクトを変更してみる">React Native for Windows のサンプルプロジェクトを変更してみる</h3>
<p>プロジェクト内の <code>App.tsx</code> をお好みのエディターで開いて <code>&lt;Text&gt;</code> の中の文字列を適当に変更して保存し、アプリケーションウィンドウに切り替えると即座に反映されていました。日本語もちゃんと表示されます。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">SafeAreaView</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">StyleSheet</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ScrollView</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">View</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Text</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">StatusBar</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;react-native&#39;</span><span class="p">;</span>
</span></span></code></pre></div><p>に <code>TextInput,</code> を追加し、適当な <code>&lt;View&gt;</code> の子供に <code>&lt;TextInput /&gt;</code> を追加して保存すると、テキスト入力欄が表示されました。
Microsoft IME での日本語入力も問題なく実行でき、 Backspace キーでの削除も正しく1文字ずつ削除できました。</p>
<h2 id="react-native-for-macos">React Native for macOS</h2>
<h3 id="必要なソフトウェアのインストール-1">必要なソフトウェアのインストール</h3>
<p><a href="https://github.com/microsoft/react-native-macos">microsoft/react-native-macos: A framework for building native macOS apps with React.</a> の
<a href="https://github.com/microsoft/react-native-macos#requirements">Requirements</a> から
<a href="https://microsoft.github.io/react-native-windows/docs/rnm-dependencies">System Requirements</a> を開き、書かれている手順に従います。</p>
<ul>
<li>Xcode 11.3.1 以降をインストール。</li>
<li>Xcode Command Line Tools をインストール。
<ol>
<li>Xcode を起動し、 Xcode の &ldquo;Preferences&hellip;&rdquo; メニューを選択。</li>
<li>Locations パネルを選んで Command Line Tools のドロップダウンで最新のバージョンを選択（私の場合は選択肢は1つだけでした）。</li>
</ol>
</li>
<li>CocoaPods をインストール。ターミナルで以下のコマンドを実行します。</li>
</ul>
<pre tabindex="0"><code>sudo gem install cocoapods
</code></pre><ul>
<li><a href="https://brew.sh/index_ja">macOS（またはLinux）用パッケージマネージャー — Homebrew</a> で <a href="https://nodejs.org/en/">Node.js</a> のバージョン 12 LTS 以降をインストール。ターミナルで以下のコマンドを実行します。</li>
</ul>
<pre tabindex="0"><code>brew install node
</code></pre><ul>
<li>同様に <a href="https://facebook.github.io/watchman/">Watchman A file watching service | Watchman</a> をインストールします。</li>
</ul>
<pre tabindex="0"><code>brew install watchman
</code></pre><h3 id="react-native-for-macos-のサンプルプロジェクトを試してみる">React Native for macOS のサンプルプロジェクトを試してみる</h3>
<p><a href="https://github.com/microsoft/react-native-macos#getting-started">Getting Started</a> から
<a href="https://microsoft.github.io/react-native-windows/docs/rnm-getting-started">Getting Started Guide</a> を開き、書かれている手順に従って実行します。</p>
<p>まずプロジェクトを作成しますが、ここでは書かれている手順とは違い、上記の React Native for Windows での手順に従って TypeScript 用にプロジェクトを作成します。
プロジェクト名は上記の React Native for Windows のときと同じ <code>hello_react_native</code> としました。
なお <code>--template</code> の後の引数はシングルクォートで囲まないと zsh のエラーになりました。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">npx react-native init hello_react_native --template <span class="s1">&#39;react-native-template-typescript@6.4.*&#39;</span>
</span></span></code></pre></div><p>プロジェクトが作成されたら、プロジェクトのディレクトリに移動します。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl"><span class="nb">cd</span> hello_react_native
</span></span></code></pre></div><p>React Native for macOS のパッケージをインストールします。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-zsh" data-lang="zsh"><span class="line"><span class="cl">npx react-native-macos-init
</span></span></code></pre></div><p>以下のコマンドを実行してアプリケーションを起動します。 <code>run-macos</code> のほうは <code>--logging</code> を指定すると <code>error: unknown option</code> となったので付けずに実行します。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cmd" data-lang="cmd"><span class="line"><span class="cl">npx react-native run-macos
</span></span></code></pre></div><p>起動すると以下の2つのウィンドウが開きました。</p>
<ul>
<li>Metro Bundler というタイトルのターミナルのウィンドウ。以下のような内容が出力されていました。</li>
</ul>
<pre tabindex="0"><code>┌──────────────────────────────────────────────────────────────────────────────┐
│                                                                              │
│  Running Metro Bundler on port 8081.                                         │
│                                                                              │
│  Keep Metro running while developing on any JS projects. Feel free to        │
│  close this tab and run your own Metro instance if you prefer.               │
│                                                                              │
│  https://github.com/facebook/react-native                                    │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

Looking for JS files in
   /Users/hnakamur/hello_react_native 

Loading dependency graph, done.

To reload the app press &#34;r&#34;
To open developer menu press &#34;d&#34;

 BUNDLE  [macos, dev] ./index.js ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓ 100.0% (474/474), done.
</code></pre><ul>
<li>プロジェクト名の <code>hello_react_native</code> というタイトルのアプリケーションウィンドウ</li>
</ul>
<h3 id="react-native-for-macos-のサンプルプロジェクトを変更してみる">React Native for macOS のサンプルプロジェクトを変更してみる</h3>
<p>「React Native for Windows のサンプルプロジェクトを変更してみる」と同様に変更してこちらも期待通り動作することを確認しました。</p>
<h2 id="おわりに">おわりに</h2>
<p>少し苦労しましたがとりあえず動かせるようになりました。</p>
<p>あとは冒頭の動画によると <a href="https://github.com/microsoft/fluentui-react-native">GitHub - microsoft/fluentui-react-native: A react-native component library that implements the Fluent Design System.</a> というのも開発中とのことでこちらも気になります。
README によるとまだアルファとのことですが今後に期待です。</p>

</div>


<script src="https://hnakamur.github.io/blog/js/copy-button.js"></script>
    </main>
  </body>
</html>
