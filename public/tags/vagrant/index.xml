<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Vagrant on hnakamur&#39;s blog at github</title>
    <link>/blog/tags/vagrant/</link>
    <description>Recent content in Vagrant on hnakamur&#39;s blog at github</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-JP</language>
    <lastBuildDate>Sat, 25 Apr 2015 21:55:31 +0900</lastBuildDate>
    <atom:link href="/blog/tags/vagrant/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>vagrant box updateでboxファイルをアップグレードする</title>
      <link>/blog/2015/04/25/vagrant-box-update/</link>
      <pubDate>Sat, 25 Apr 2015 21:55:31 +0900</pubDate>
      
      <guid>/blog/2015/04/25/vagrant-box-update/</guid>
      <description>&lt;p&gt;Vagrant Cloudに上がっているUbuntu trustyのオフィシャルイメージ&lt;a href=&#34;https://atlas.hashicorp.com/ubuntu/boxes/trusty64&#34;&gt;ubuntu/trusty64 | Atlas by HashiCorp&lt;/a&gt;をVagrantfileで参照していたら、 &lt;code&gt;vagrant up&lt;/code&gt; の際に以下の様なメッセージが表示される時がありました。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ vagrant up
…(略)…
==&amp;gt; default: A newer version of the box &#39;ubuntu/trusty64&#39; is available! You currently
==&amp;gt; default: have version &#39;14.04&#39;. The latest is version &#39;20150422.0.0&#39;. Run
==&amp;gt; default: `vagrant box update` to update.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;以下のように実行するとアップデートが出来ました。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ vagrant box update --box ubuntu/trusty64
Checking for updates to &#39;ubuntu/trusty64&#39;
Latest installed version: 14.04
Version constraints: &amp;gt; 14.04
Provider: virtualbox
Updating &#39;ubuntu/trusty64&#39; with provider &#39;virtualbox&#39; from version
&#39;14.04&#39; to &#39;20150422.0.0&#39;...
Loading metadata for box &#39;https://atlas.hashicorp.com/ubuntu/trusty64&#39;
Adding box &#39;ubuntu/trusty64&#39; (v20150422.0.0) for provider: virtualbox
Downloading: https://atlas.hashicorp.com/ubuntu/boxes/trusty64/versions/20150422.0.0/providers/virtualbox.box
Successfully added box &#39;ubuntu/trusty64&#39; (v20150422.0.0) for &#39;virtualbox&#39;!
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;アップデート完了後、box一覧を確認してみると以下のように新旧のバージョンが出力されました。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ vagrant box list | grep &#39;ubuntu/trusty64&#39;
ubuntu/trusty64                               (virtualbox, 14.04)
ubuntu/trusty64                               (virtualbox, 20150422.0.0)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;検証用に古いバージョンを使うことはできるのかなと思ったら&lt;a href=&#34;https://docs.vagrantup.com/v2/boxes/versioning.html&#34;&gt;Box Versioning - Vagrant Documentation&lt;/a&gt;に書いてありました。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;config.vm.box_version&lt;/code&gt; を指定すれば良いようです。
また &lt;code&gt;config.vm.box_check_update = false&lt;/code&gt; を指定すれば、boxの新バージョンが出ているかのチェックを無効にできるそうです。&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>