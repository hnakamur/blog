<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>

        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

        <title>VirtualBox4でCentOS6.2をインストール &middot; hnakamur&#39;s blog at github</title>
        <link rel='stylesheet' href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,600' type='text/css'>
        <link rel="stylesheet" href="https://hnakamur.github.io/blog//libraries/normalize.3.0.1.css" />
        <link rel="stylesheet" href="https://hnakamur.github.io/blog//css/liquorice.css" />
        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-144-precomposed.png" sizes="144x144" />
        <link rel="alternate" href="" type="application/rss+xml" title="hnakamur&#39;s blog at github" />
        
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', "UA-53263855-1", 'auto');
    ga('send', 'pageview');
</script>




    </head>
    <body class="li-body">

<header class="li-page-header">
    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <div class="li-brand li-left">
                <a href="https://hnakamur.github.io/blog/">hnakamur&#39;s blog at github</a></div>
                <div class="li-menu li-right">
                    <span class="li-menu-icon" onclick="javascript:toggle('menu');">&#9776;</span>
                    <ul id="menu2" class="li-menu-items">
                        
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="sixteen columns">
                <ul id="menu" class="li-menu-items li-menu-mobile">
                    
                </ul>
            </div>
        </div>
    </div>
</header>


    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <article class="li-article">
                    <header class="li-article-header">
                        <h1 class="li-article-title">VirtualBox4でCentOS6.2をインストール</h1>
                        <time class="li-article-date">2012-07-03</time>
                    </header>
                    <section>
                        

<h2 id="virtualboxのインストール">VirtualBoxのインストール</h2>

<p><a href="https://www.virtualbox.org/wiki/Downloads">Downloads – Oracle VM VirtualBox</a>
からダウンロードしてインストールしてください。</p>

<h2 id="ネットワークインストールのisoイメージをダウンロード">ネットワークインストールのISOイメージをダウンロード</h2>

<p><a href="http://ftp.riken.jp/Linux/centos/6.2/isos/x86_64/CentOS-6.2-x86_64-netinstall.iso">CentOS-6.2-x86_64-netinstall.iso</a></p>

<h2 id="ホストオンリーネットワークを作成">ホストオンリーネットワークを作成</h2>

<ol>
<li>[VirualBox]/[環境設定&hellip;]</li>
<li>[ネットワーク]タブ</li>
<li>[+]アイコンボタンを押してvboxnet0を作成</li>
<li>ドライバーアイコンのボタン</li>
<li>[アダプタ]タブでIPv4アドレスが「192.168.56.1」となっていることを確認</li>
<li>[DHCPサーバー]タブ</li>
<li>[サーバーを有効化]のチェックを外す</li>
<li>[OK]</li>
<li>[OK]</li>
</ol>

<h2 id="仮想マシンの作成">仮想マシンの作成</h2>

<h3 id="仮想マシン名とosタイプ">仮想マシン名とOSタイプ</h3>

<p>名前は「CentOS6」
オペレーティングシステムは「Linux」
バージョンは「Linux 2.6 (64bit)」</p>

<h3 id="メモリ">メモリ</h3>

<p>メインメモリのサイズは1024MB</p>

<h3 id="仮想ハードディスク">仮想ハードディスク</h3>

<p>変更なし</p>

<h3 id="the-virtual-disk-creation-wizard">the virtual disk creation wizard</h3>

<p>File typeはVDI (VirtualBox Disk Image)</p>

<h3 id="virtual-disk-storage-details">Virtual disk storage details</h3>

<p>Storage detailsはDyamically allocated</p>

<h3 id="virtual-disk-file-location-and-size">Virtual disk file location and size</h3>

<p>サイズは30GB</p>

<h2 id="インストール前の仮想マシンの設定変更">インストール前の仮想マシンの設定変更</h2>

<h3 id="dvdドライブにメディアを設定">DVDドライブにメディアを設定</h3>

<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ストレージ]タブ</li>
<li>ストレージツリーでIDEコントローラ/空を選択</li>
<li>属性のCD/DVDドライブの右のDVDメディアアイコンをクリックして</li>
<li>上記でダウンロードしたCentOS-6.2-x86_64-netinstall.isoを選択</li>
<li>[OK]</li>
</ol>

<h3 id="ネットワークアダプタ">ネットワークアダプタ</h3>

<p>以下の手順では[VirtualBox マネージャー]画面からでも操作可能な部分もありますが、説明しやすいのでメニューバーからの操作で説明します。</p>

<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ネットワーク]タブ</li>
<li>[アダプタ2]タブ</li>
<li>[ネットワークアダプタを有効化]にチェック</li>
<li>[割り当て]で「ホストオンリーアダプタ」を選択</li>
<li>[名前]で「vboxnet0」を選択</li>
<li>[OK]</li>
</ol>

<h2 id="centos6-2のインストール">CentOS6.2のインストール</h2>

<h3 id="テキストモードでインストール開始">テキストモードでインストール開始</h3>

<ol>
<li>[仮想マシン]/[起動]</li>
<li>Welcome to CentOS 6.2!」の画面でTABを押す
<pre>
&gt; vmlinuz initrd=initrd.img
</pre>
と表示されているところに、スペース、text、リターンを入力し
<pre>
&gt; vmlinuz initrd=initrd.img text
</pre>
としてインストール開始</li>
</ol>

<h3 id="disc-found">Disc Found</h3>

<p>[Skip]を選択</p>

<h3 id="choose-a-language">Choose a Language</h3>

<p>[English]を選択</p>

<h3 id="keyboard-type">Keyboard Type</h3>

<p>[us]を選択</p>

<h3 id="installation-method">Installation Method</h3>

<p>[URL]を選択して[OK]</p>

<h3 id="network-device">Network Device</h3>

<p>[eth0]を選択して[OK]</p>

<h3 id="configure-tcp-ip">Configure TCP/IP</h3>

<p>[Enable IPv6 support]をオフにして[OK]</p>

<h3 id="url-setup">URL Setup</h3>

<p><a href="http://ftp.riken.jp/Linux/centos/6.2/os/x86_64">http://ftp.riken.jp/Linux/centos/6.2/os/x86_64</a>
と入力して[OK]</p>

<h3 id="would-you-like-to-use-vnc">Would you like to use VNC?</h3>

<p>[Use text mode]を選択</p>

<h3 id="error-processing-driveのwarning">Error processing driveのWarning</h3>

<p>[Re-initialize all]を選択</p>

<h3 id="time-zone-selection">Time Zone Selection</h3>

<p>[System clock uses UTC]のチェックはオンで
[Asia/Tokyo]を選択して[OK]</p>

<h3 id="root-password">Root Password</h3>

<p>[Password]と[Password (confirm)]を入力して[OK]</p>

<h3 id="partition-type">Partition Type</h3>

<p>[OK]</p>

<h3 id="writing-storage-configuration-to-disk">Writing storage configuration to disk</h3>

<p>[Write changes to disk]</p>

<h3 id="complete">Complete</h3>

<p>[Reboot]を押し、再起動が開始して[Welcome to CentOS 6.2!]の画面になったらTABを2回押して起動を中断
仮想マシンのウィンドウの閉じるボタンを押し、｢操作を選択]で[仮想マシンの電源オフ]を選択して[OK]</p>

<h2 id="インストール後の仮想マシンの設定変更">インストール後の仮想マシンの設定変更</h2>

<h3 id="dvdドライブのメディアを除去">DVDドライブのメディアを除去</h3>

<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ストレージ]タブ</li>
<li>ストレージツリーでIDEコントローラ/CentOS-6.2-x86_64-netinstall.isoを選択</li>
<li>属性のCD/DVDドライブの右のDVDメディアアイコンをクリックして</li>
<li>[仮想ドライブからディスクを除去]</li>
</ol>

<h3 id="ネットワークアダプタでvirtio-netを選択">ネットワークアダプタでvirtio-netを選択</h3>

<ol>
<li>[仮想マシン]/[設定]</li>
<li>[ネットワーク]タブ</li>
<li>[アダプタ1]タブ</li>
<li>[高度]をクリック</li>
<li>アダプタタイプで「準仮想化ネットワーク(virtio-net)」を選択</li>
<li>[アダプタ2]タブ</li>
<li>[高度]をクリック</li>
<li>アダプタタイプで「準仮想化ネットワーク(virtio-net)」を選択</li>
<li>[OK]</li>
</ol>

<h2 id="仮想ディスクから仮想マシンを起動してネットワークの設定">仮想ディスクから仮想マシンを起動してネットワークの設定</h2>

<p>[仮想マシン]/[起動]</p>

<p>[localhost login:]というログインプロンプトが表示されたらroot、リターンと入力し、[Password:]プロンプトでパスワード、リターンを入力し、ログイン。</p>

<h3 id="eth1の設定">eth1の設定</h3>

<p>vi /etc/sysconfig/network-scripts/ifcfg-eth1</p>

<h4 id="変更前">変更前</h4>

<p>HWADDRの値はインストール毎に異なります。</p>

<pre><code>DEVICE=&quot;eth1&quot;
HWADDR=&quot;08:00:27:28:EB:27&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;no&quot;
</code></pre>

<h4 id="変更後">変更後</h4>

<p>ONBOOTをyesに変更し、下記のようにTYPE, IPADDR, NETMASKの行を追加します。</p>

<pre><code>DEVICE=&quot;eth1&quot;
HWADDR=&quot;08:00:27:28:EB:27&quot;
NM_CONTROLLED=&quot;yes&quot;
ONBOOT=&quot;yes&quot;
TYPE=&quot;Ethernet&quot;
IPADDR=&quot;192.168.56.101&quot;
NETMASK=&quot;255.255.255.0&quot;
</code></pre>

<pre>
/etc/init.d/network restart
</pre>
を実行しネットワークを再起動します。

### ネットワークの動作確認

以下のコマンドを実行し、DNS名前解決とインターネットへのアクセスができることを確認。
<pre>
ping ftp.riken.jp
</pre>

<p>ホストマシンから仮想マシンにアクセスできることを確認。
<pre>
ping 192.168.56.101
</pre></p>

<p>確認できたら仮想マシンからログアウト
<pre>
exit
</pre></p>

<p>以降はホストマシンからsshでログインして操作可能です。</p>

<pre><code>ssh root@192.168.56.101
</code></pre>

                    </section>
                </article>
            </div>
        </div>

        <div class="row li-author">
    <div class="sixteen columns">
        Written by <a href="https://hnakamur.github.io"><strong>Hiroaki Nakamura</strong></a>
    </div>
</div>


        <div class="row li-pagination">
            <div class="eight columns">
                <div class="li-pagination-previous">
                    
                        Later article<br />
                        <a href="https://hnakamur.github.io/blog/2013/02/02/use-unbound-dns-server/"> Unboundで在宅時に自宅サーバの名前解決</a>
                    
                </div>
            </div>
            <div class="eight columns">
                <div class="li-pagination-next">
                    
                        Older article<br />
                        <a href="https://hnakamur.github.io/blog/2012/06/27/node-http-proxydebatiyaruhosutodezhen-rifen-ketutuhttp-slash-https-websocketribasupurokisifalseshi-yan/"> node-http-proxyでバーチャルホストで振り分けつつhttp/https-&gt;websocketリバースプロキシの実験</a>
                    
                </div>
            </div>
        </div>
    </div>

<footer class="li-page-footer">
    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <div class="li-page-footer-legal">
                    &copy; 2012-2017. All rights reserved. 
                </div>
                <div class="li-page-footer-theme">
                    <span class=""><a href="http://github.com/hnakamur/liquorice-hn/">liquorice-hn</a> is a theme for <a href="http://hugo.spf13.com">hugo</a></span>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script type="text/javascript">
    <!--
    function toggle(id) {
        var e = document.getElementById(id);
        e.style.display == 'block' ? e.style.display = 'none' : e.style.display = 'block';
    }
    
    </script>

    </body>
</html>

